(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{243:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"屏幕适配方案的选择"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屏幕适配方案的选择","aria-hidden":"true"}},[t._v("#")]),t._v(" 屏幕适配方案的选择")]),t._v(" "),a("h2",{attrs:{id:"chrome-devtools模拟移动设备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chrome-devtools模拟移动设备","aria-hidden":"true"}},[t._v("#")]),t._v(" Chrome DevTools模拟移动设备")]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("Chrome DevTools")]),t._v("的"),a("code",[t._v("Device Mode")]),t._v("功能，可以大致了解你的页面在移动设备上呈现的外观和效果，这个是一种非常方便的调试移动端页面的方法。但是需要注意的是，"),a("code",[t._v("Device Mode")]),t._v("的效果和真机的效果也不是100%一样，所以当你的页面在"),a("code",[t._v("Device Mode")]),t._v("测试完成时，别忘了在真机上在看看，确保万无一失。点击"),a("code",[t._v("Toggle Device Toolbar")]),t._v("切换设备工具栏，可以打开用于模拟移动设备视口的界面。")]),t._v(" "),a("h3",{attrs:{id:"_1-移动设备视口模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-移动设备视口模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 移动设备视口模式")]),t._v(" "),a("p",[t._v("要模拟特定移动设备的尺寸，请从"),a("code",[t._v("Device")]),t._v("列表中选择一个合适模拟设备。想要立即生效，可以刷新一下浏览器。")]),t._v(" "),a("h3",{attrs:{id:"_2-限制网络流量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-限制网络流量","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 限制网络流量")]),t._v(" "),a("p",[t._v("我们知道，移动端的网络状况是错综复杂的，当然我们在开发移动页面时也要兼容这种情况，"),a("code",[t._v("Chrome DevTools")]),t._v("给我们提供了模拟各种网速的功能：")]),t._v(" "),a("p",[t._v("或者按"),a("code",[t._v("Command+Shift+P")]),t._v(" (Mac) 或 "),a("code",[t._v("Control+Shift+P")]),t._v("（Windows、Linux、Chrome 操作系统），以打开命令菜单，输入"),a("code",[t._v("3G")]),t._v("，然后选择"),a("code",[t._v("Enable fast 3G throttling")]),t._v("或"),a("code",[t._v("Enable slow 3G throttling")]),t._v("。其他的面板功能比如"),a("code",[t._v("Sources")]),t._v("，"),a("code",[t._v("Network")]),t._v("等等和PC端的使用方法一致，在这里就不过多解释了。另外在"),a("code",[t._v("Application")]),t._v("里有"),a("code",[t._v("Service Worker")]),t._v("的相关配置和功能将会在后面的章节讲解。")]),t._v(" "),a("h2",{attrs:{id:"rem和vm适配方案比较"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rem和vm适配方案比较","aria-hidden":"true"}},[t._v("#")]),t._v(" rem和vm适配方案比较")]),t._v(" "),a("p",[t._v("我们此次的实战项目，主要是一个移动 Web 项目，那么就不得不提屏幕适配。所谓屏幕适配，说白了就是让我们的移动页面在不同的移动端屏幕下，都能展示出良好的效果，那么当下比较流行的适配方案主要有2个：")]),t._v(" "),a("ul",[a("li",[t._v("rem是适配方案")]),t._v(" "),a("li",[t._v("vm适配方案")])]),t._v(" "),a("p",[t._v("这两种适配方案既可以搭配使用，也可以结合"),a("code",[t._v("Media Query")]),t._v("(媒体查询) 来使用，达到针对不同屏幕的适配效果。下面来讲讲两者的区别：")]),t._v(" "),a("h3",{attrs:{id:"_1-rem适配方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-rem适配方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. rem适配方案")]),t._v(" "),a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("rem（font size of the root element）是指相对于根元素的字体大小的单位")]),t._v("。简单的说它就是一个相对单位。看到rem大家一定会想起em单位，"),a("font",{attrs:{color:"#3eaf7c"}},[t._v("em（font size of the element）是指相对于父元素的字体大小的单位")]),t._v(" 。它们之间其实很相似，只不过计算的规则一个是依赖根元素，一个是依赖父元素。")],1),t._v(" "),a("p",[a("code",[t._v("rem")]),t._v("的适配原理：将我们之前写px的单位换成rem单位，然后动态设置根元素"),a("code",[t._v("html")]),t._v("的"),a("code",[t._v("font-size")]),t._v("大小，从而达到适配的目的。")]),t._v(" "),a("p",[t._v("浏览器"),a("code",[t._v("html")]),t._v("默认字体大小（在不修改浏览器字体情况下）是"),a("code",[t._v("16px")]),t._v("，所以 "),a("font",{attrs:{color:"#3eaf7c"}},[t._v("默认情况下1rem = 16px")]),t._v("，但是我们通常需要动态设置"),a("code",[t._v("html")]),t._v("的"),a("code",[t._v("font-size")]),t._v("。")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 Javascript 动态设置 html 的 font-size：")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'resize'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取视窗宽度")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" htmlWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取html")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" htmlDom "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  htmlDom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" htmlWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//求出基准值 ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("实际应用当中，大多数采用的"),a("code",[t._v("Javascript")]),t._v("来动态设置。设置完之后，我们就可以直接利用"),a("code",[t._v("rem")]),t._v("单位来给我们的"),a("code",[t._v("div")]),t._v(" 或者其他元素设置宽高等一些属性了，这里就有一个问题，我们一般拿到的UI稿提供的"),a("code",[t._v("px")]),t._v("，怎么转换成我们的"),a("code",[t._v("rem")]),t._v("单位呢？")]),t._v(" "),a("p",[t._v("UI 给的视觉稿一般是以 Iphone6 的屏幕设计，这里一个按钮的标注的宽高是"),a("code",[t._v("20*40")]),t._v("单位是"),a("code",[t._v("px")]),t._v("，由此我们可以得到：")]),t._v(" "),a("ul",[a("li",[t._v("Iphone6的屏幕是"),a("code",[t._v("375*667")]),t._v("单位是"),a("code",[t._v("px")]),t._v("（这个单位可以在使用"),a("code",[t._v("Chrome DevTools")]),t._v("时得到）；")]),t._v(" "),a("li",[t._v("根据上面"),a("code",[t._v("JavaScript")]),t._v("设置的"),a("code",[t._v("html")]),t._v("的"),a("code",[t._v("font-size")]),t._v("得到是"),a("code",[t._v("37.5px")]),t._v("；")]),t._v(" "),a("li",[t._v("那么根据"),a("code",[t._v("1rem=37.5px")]),t._v("，得到"),a("code",[t._v("20px=0.53rem")]),t._v("，"),a("code",[t._v("40px=1.06rem")]),t._v("。")])]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.53rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.06rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("当然，在实际项目中，我们可以使用"),a("code",[t._v("sass")]),t._v("的公式来解决这些繁琐的换算问题：")]),t._v(" "),a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("@function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("px2rem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$px")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$rem")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 37.5px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("@return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$px")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$rem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".button ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("px2rem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("20"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("px2rem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("40"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("关于"),a("code",[t._v("rem")]),t._v("适配的更多内容可以参考"),a("a",{attrs:{href:"https://www.imooc.com/learn/942",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.imooc.com/learn/942"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_2-vm适配方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vm适配方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. vm适配方案")]),t._v(" "),a("p",[a("code",[t._v("vw")]),t._v("其实也是一个"),a("code",[t._v("CSS")]),t._v("单位，类似的还有"),a("code",[t._v("vh")]),t._v(","),a("code",[t._v("vmin")]),t._v(","),a("code",[t._v("vmax")]),t._v("共四个单位，这些单位伴随着"),a("code",[t._v("CSS3")]),t._v("的出现就已经有了。但是当时移动"),a("code",[t._v("Web")]),t._v("的浪潮已经来临，并且"),a("code",[t._v("rem")]),t._v("出现的要早，所以很多人忽略了这个。但是"),a("code",[t._v("rem")]),t._v("使用适配是要依赖"),a("code",[t._v("Javascript")]),t._v("来进行处理（动态设置 html 根元素的 font-size），而"),a("code",[t._v("vw")]),t._v("适配方案完全基于"),a("code",[t._v("CSS")]),t._v("自身。")]),t._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("vw")]),t._v(" : 1vw 等于视口宽度的1%")],1),t._v(" "),a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("vh")]),t._v(" : 1vh 等于视口高度的1%")],1),t._v(" "),a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("vmin")]),t._v(" : 选取 vw 和 vh 中最小的那个")],1),t._v(" "),a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("vmax")]),t._v("  : 选取 vw 和 vh 中最大的那个")],1)]),t._v(" "),a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("视口宽度")]),t._v("：表示你在"),a("code",[t._v("meta")]),t._v("里设置的那个宽度：")],1),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("使用"),a("code",[t._v("document.documentElement.clientWidth")]),t._v("可以获取到浏览器的视口大小，这里要注意不一样的是类似"),a("code",[t._v("window.innerWidth")]),t._v("或者"),a("code",[t._v("window.screen.width")]),t._v("这些拿到的是浏览器的物理宽度，当"),a("code",[t._v("width!=device-width")]),t._v("时是不等效的哦。")]),t._v(" "),a("p",[t._v("同理我们将"),a("code",[t._v("Iphone6")]),t._v("的UI搞下，这里一个按钮的标注的宽高是"),a("code",[t._v("20*40")]),t._v("单位是"),a("code",[t._v("px")]),t._v("，转换成"),a("code",[t._v("vw")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5.3vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("20/375*100vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.6vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("40/375*100vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("同理，你可能也需要一个sass公式来解决繁琐的换算问题:")]),t._v(" "),a("div",{staticClass:"language-scss extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scss"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("@function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vw")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$px")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("@return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$px")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" 375"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" 100vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("那么vw方案相比rem优势在于，不需要JavaScript来动态设置html根元素的 font-size；劣势在于浏览器兼容性不如rem。")])],1),t._v(" "),a("p",[t._v("由于现在市面上 Android4.4 以下的机型还占有一定的比例（9%左右），这个量还是不容忽视的，这也是现在"),a("code",[t._v("vw")]),t._v("适配方案没有"),a("code",[t._v("rem")]),t._v("流行的主要原因之一。好在既然所有最新浏览器都已经支持"),a("code",[t._v("vw")]),t._v("，那么随着时间推移，相信"),a("code",[t._v("vw")]),t._v("未来必将会流行。")]),t._v(" "),a("h2",{attrs:{id:"postcss-px-to-viewport适配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postcss-px-to-viewport适配","aria-hidden":"true"}},[t._v("#")]),t._v(" postcss-px-to-viewport适配")]),t._v(" "),a("p",[t._v("前面说了这么多理论知识，那么下面就回到我们的实战项目中。本次实战项目采用"),a("code",[t._v("vw")]),t._v("适配方案（因为 "),a("code",[t._v("rem")]),t._v("的适配方案用的太多了，尝试一下新的"),a("code",[t._v("vw")]),t._v("方案），使用"),a("code",[t._v("postcss")]),t._v("的"),a("font",{attrs:{color:"#3eaf7c"}},[t._v("postcss-px-to-viewport")]),t._v("插件来帮助我们进行px和vw之间的转换")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装postcss-px-to-viewport：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" postcss-px-to-viewport --save\n")])])]),a("p",[t._v("在"),a("code",[t._v("postcss.config.js")]),t._v("中添加配置：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"postcss-px-to-viewport"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  viewportWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("375")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 视窗的宽度，对应的是我们设计稿的宽度，Iphone6的一般是375 （xx/375*100vw）")]),t._v("\n  viewportHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("667")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 视窗的高度，Iphone6的一般是667")]),t._v("\n  unitPrecision"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定`px`转换为视窗单位值的小数位数（很多时候无法整除）")]),t._v("\n  viewportUnit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定需要转换成的视窗单位，建议使用vw")]),t._v("\n  selectorBlackList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.ignore'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.hairlines'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定不转换为视窗单位的类，可以自定义，可以无限添加,建议定义一至两个通用的类名")]),t._v("\n  minPixelValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小于或等于`1px`不转换为视窗单位，你也可以设置为你想要的值")]),t._v("\n  mediaQuery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 允许在媒体查询中转换`px`")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("设置之后，我们在项目里直接写"),a("code",[t._v("px")]),t._v("单位，然后"),a("code",[t._v("postCss")]),t._v("就可以帮我们转换成vw单位，很方便有木有。")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 转换前\n.name-info")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("12px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("273px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 转换后\n.name-info")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3.2vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("72.8vw"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("同时，我们把"),a("code",[t._v("autoprefixer")]),t._v("也默认配置上去：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    autoprefixer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'postcss-px-to-viewport'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("本章节主要给大家介绍了"),a("code",[t._v("Chrome DevTools")]),t._v("模拟移动设备和移动端的常见适配方案，包括"),a("code",[t._v("rem")]),t._v("适配和 "),a("code",[t._v("vw")]),t._v("适配，同时比较了两者的差别和优劣。另外在项目里引入"),a("code",[t._v("postcss-px-to-viewport")]),t._v("来帮助我们解决单位转换问题。")])])},[],!1,null,null,null);s.default=e.exports}}]);