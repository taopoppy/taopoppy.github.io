(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{425:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"核心模块-vm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#核心模块-vm","aria-hidden":"true"}},[t._v("#")]),t._v(" 核心模块 - vm")]),t._v(" "),a("h2",{attrs:{id:"vm概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm概述","aria-hidden":"true"}},[t._v("#")]),t._v(" vm概述")]),t._v(" "),a("p",[t._v("我们到"),a("code",[t._v("node")]),t._v("官网上能看到对"),a("code",[t._v("vm")]),t._v("核心模块的介绍如下：")]),t._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"#1E90FF"}},[t._v('vm模块提供了在 V8 虚拟机上下文中编译和运行代码的一系列API。vm 模块不是一个安全的虚拟机。不要用它来运行不受信任的代码。在这些文档中 "sanbox" 这个术语仅仅是为了表示一个单独的上下文，并不提供任何安全保障。JavaScript 代码可以被编译并立即运行，也可以编译、保存，以后再运行。一个常见的场景是在沙盒中运行代码。沙盒中的代码使用不同的 V8 上下文，这意味着它具有与其余代码不同的全局对象。可以通过上下文隔离化一个沙箱对象来提供上下文。沙盒代码将沙盒中的任何属性视为全局对象。由沙盒代码引起的任何全局变量的更改都将反映到沙盒对象中。')])],1)]),t._v(" "),a("p",[t._v("那么上面的描述当中的"),a("font",{attrs:{color:"#DD1144"}},[t._v("上下文隔离化")]),t._v("又是什么东西，我们也能从官网找到答案：")],1),t._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"#1E90FF"}},[t._v('所有用 Node.js 所运行的 JavaScript 代码都是在一个“上下文”的作用域中被执行的。根据 V8 嵌入式指南：在V8中，一个上下文是一个执行环境，它允许分离的，无关的JavaScript应用在一个V8的单例中被运行。 必须明确地指定用于运行所有 JavaScript 代码的上下文。当调用 vm.createContext() 时，传入的 sandbox 对象（或者新建的一个 sandbox 对象，若原 sandbox 为 undefined）在底层会和一个新的V8上下文实例联系上。 这个 V8 上下文在一个隔离的全局环境中，使用 vm 模块的方法运行code。 创建V8上下文和使之联系上 sandbox 的过程在此文档中被称作为"上下文隔离化" sandbox。')])],1)]),t._v(" "),a("p",[t._v("我们通过官网的一段代码来说明：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sanbox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上下文隔离化一个沙盒")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n  x += 40;\n  var y = 17;\n`")])]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 41")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 17")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\nx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 42")]),t._v("\n\nsanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" x\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 83")]),t._v("\n")])])]),a("h2",{attrs:{id:"相关api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关api","aria-hidden":"true"}},[t._v("#")]),t._v(" 相关API")]),t._v(" "),a("h3",{attrs:{id:"_1-vm-createcontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-vm-createcontext","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. vm.createContext")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("全称")]),t._v("："),a("code",[t._v("vm.createContext([sandbox[, options]])")])],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("概念")]),t._v("：给定一个"),a("code",[t._v("sandbox")]),t._v("对象，"),a("code",[t._v("vm.createContext()")]),t._v("会设置此沙盒，从而让它具备在"),a("code",[t._v("vm.runInContext()")]),t._v("或者"),a("code",[t._v("script.runInContext()")]),t._v("中被使用的能力。 对于此二方法中所调用的脚本，"),a("font",{attrs:{color:"#CC99CD"}},[t._v("他们的全局对象不仅拥有我们提供的sandbox 对象的所有属性，同时还有任何全局对象所拥有的属性。 对于这些脚本之外的所有代码，他们的全局变量将保持不变")]),t._v(" 。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("返回值")]),t._v("：上下文隔离化的沙盒。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("用法")]),t._v("：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'util'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nglobal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalVar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sandbox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" globalVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'globalVar *= 2;'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inspect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { globalVar: 2 }")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inspect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("globalVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_2-vm-iscontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vm-iscontext","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. vm.isContext")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("全称")]),t._v("："),a("code",[t._v("vm.isContext(sandbox)")])],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("概念")]),t._v("：当给定的"),a("code",[t._v("sandbox")]),t._v("对象已经被"),a("code",[t._v("vm.createContext()")]),t._v("上下文隔离化，则返回"),a("code",[t._v("true")]),t._v("。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("用法")]),t._v("：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" general "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sanbox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上下文隔离化一个沙盒")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sanbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("general"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false ")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_3-vm-runincontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-vm-runincontext","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. vm.runInContext")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("全称")]),t._v("："),a("code",[t._v("vm.runInContext(code, contextifiedSandbox[, options])")])],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("概念")]),t._v("："),a("code",[t._v("vm.runInContext()")]),t._v("方法会编译"),a("code",[t._v("code")]),t._v("，然后在指定的 "),a("code",[t._v("contextifiedSandbox")]),t._v("的上下文里执行它并返回其结果。 被执行的代码无法获取本地作用域。 "),a("code",[t._v("contextifiedSandbox")]),t._v("必须是事先被"),a("code",[t._v("vm.createContext()")]),t._v("方法上下文隔离化过的对象。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("返回值")]),t._v("：脚本中执行的最后一个语句的结果（"),a("font",{attrs:{color:"#DD1144"}},[t._v("注意不能在最后一个语句之前加return")]),t._v(" ）")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("用法")]),t._v("：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'util'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sandbox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" globalVar "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 必须手动申明为一个Context")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n  globalVar *= 2\n  `")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inspect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { globalVar: 1024 }")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_4-vm-runinnewcontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-vm-runinnewcontext","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. vm.runInNewContext")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("全称")]),t._v("： vm.runInNewContext(code[, sandbox[, options]])")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("概念")]),t._v("："),a("code",[t._v("vm.runInNewContext()")]),t._v("首先给指定的"),a("code",[t._v("sandbox")]),t._v("（若为 "),a("code",[t._v("undefined")]),t._v("，则会新建一个"),a("code",[t._v("sandbox")]),t._v("）提供一个隔离的上下文, 再在此上下文中执行编译的"),a("code",[t._v("code")]),t._v("，最后返回结果。 运行中的代码无法获取本地作用域。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("返回值")]),t._v("：脚本中执行的最后一个语句的结果（"),a("font",{attrs:{color:"#DD1144"}},[t._v("注意不能在最后一个语句之前加return")]),t._v(" ）")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("用法")]),t._v(":")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'util'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sandbox "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  animal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInNewContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'count += 1; name = \"kitty\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inspect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sandbox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { animal: 'cat', count: 3, name: 'kitty' }")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"_5-vm-runinthiscontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-vm-runinthiscontext","aria-hidden":"true"}},[t._v("#")]),t._v(" 5. vm.runInThisContext")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("全称")]),t._v("：vm.runInThisContext(code[, options])")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("概念")]),t._v("："),a("code",[t._v("vm.runInThisContext()")]),t._v("在当前的"),a("code",[t._v("global")]),t._v("对象的上下文中编译并执行"),a("code",[t._v("code")]),t._v("，最后返回结果。运行中的代码无法获取本地作用域，但可以获取当前的"),a("code",[t._v("global")]),t._v("对象。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("返回值")]),t._v("：脚本中执行的最后一个语句的结果（"),a("font",{attrs:{color:"#DD1144"}},[t._v("注意不能在最后一个语句之前加return")]),t._v(" ）")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("用法")]),t._v("：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vm'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" localVar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'initial value'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vmResult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runInThisContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localVar = \"vm\";'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vmResult:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vmResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vmResult: 'vm', ")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localVar:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" localVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// localVar: 'initial value'")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vm")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" evalResult "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localVar = \"eval\";'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'evalResult:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" evalResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// evalResult: 'eval'")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localVar:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" localVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// localVar: 'eval'")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("localVar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vm")]),t._v("\n")])])]),a("p",[t._v("这里就要特别注意："),a("font",{attrs:{color:"#DD1144"}},[t._v("无法获取本地的作用域的含义就是：操作相同的变量名，但是操作的是堆中不同的地址")]),t._v("。因此"),a("code",[t._v("vm.runInThisContext()")]),t._v("相当于从本地作用域复制了一些东西到新的上下文中来做操作，复制的新东西和原来的东西互不影响。 相反，"),a("code",[t._v("eval()")]),t._v("确实能获取本地作用域，所以"),a("code",[t._v("localVar")]),t._v("的值被改变了。 如此看来，"),a("code",[t._v("vm.runInThisContext()")]),t._v("更像是间接的执行"),a("code",[t._v("eval()")]),t._v(", 就像 "),a("code",[t._v("(0,eval)('code')")])],1)])]),t._v(" "),a("h3",{attrs:{id:"_6-总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 6. 总结")]),t._v(" "),a("ul",[a("li",[a("p",[a("font",{attrs:{color:"#DD1144"}},[t._v("runInContext在传入context参数上与runInNewContext有所区别runInContext传入的context对象不为空而且必须是经vm.createContext()处理过的，否则会报错。runInNewContext的context参数是非必须的，而且无需经过vm.createContext处理。runInNewContext和runInContext因为有指定context，所以不会像runInThisContext那样产生全局污染")])],1)]),t._v(" "),a("li",[a("p",[t._v("当需要一个沙箱环境执行多个脚本片段的时候，可以通过多次调用"),a("code",[t._v("runInContext")]),t._v("方法但是传入同一个"),a("code",[t._v("vm.createContext()")]),t._v("返回值实现。")])])]),t._v(" "),a("h2",{attrs:{id:"安全问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 安全问题")]),t._v(" "),a("p",[a("code",[t._v("vm")]),t._v("相对于"),a("code",[t._v("eval")]),t._v("来说更安全一些，因为它隔离了当前的上下文环境了，但是尽管如此依然可以访问标准的"),a("code",[t._v("JS API")]),t._v("和全局的"),a("code",[t._v("NodeJS")]),t._v("环境，因此"),a("code",[t._v("vm")]),t._v("并不安全，这个在官方文档里就提到了")]),t._v(" "),a("p",[t._v("针对原生"),a("code",[t._v("vm")]),t._v("存在的这个问题，有人开发了"),a("code",[t._v("vm2")]),t._v("包，可以避免上述问题，但是也不能说"),a("code",[t._v("vm2")]),t._v("就一定是安全的")]),t._v(" "),a("p",[a("code",[t._v("vm")]),t._v("提供了一种隔离的方式来执行不可信代码，但是并不是非常彻底，针对不可信代码最好的执行方式还是“物理隔离”，比如"),a("code",[t._v("docker")]),t._v("容器。")]),t._v(" "),a("h2",{attrs:{id:"使用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用场景","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),a("ol",[a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("环境隔离")]),t._v("："),a("br"),t._v("\n因为"),a("code",[t._v("node")]),t._v("的"),a("code",[t._v("js")]),t._v("代码是单线程，在并发的场景下，需要考虑上下文的竞争和互相影响，直接使用"),a("code",[t._v("vm")]),t._v("，可以最小成本的解决这个问题。"),a("code",[t._v("vue ssr")]),t._v("在2.3.0以前，就是用"),a("code",[t._v("vm")]),t._v("来做隔离的渲染的，但是也带来了性能的问题，具体可以查看"),a("a",{attrs:{href:"https://ssr.vuejs.org/api/#runinnewcontext",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),a("OutboundLink")],1),t._v("的介绍。")],1)]),t._v(" "),a("li",[a("p",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("动态执行字符串代码")]),t._v("："),a("br"),t._v("\n这在某些需求场景下只能使用"),a("code",[t._v("vm")]),t._v("，比如我们要自己做一个模板引擎的时候，我们可以在"),a("a",{attrs:{href:"https://www.taopoppy.cn/node-BFF/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-Bff"),a("OutboundLink")],1),t._v("这个实战课程的详情页的实战中看到如何使用"),a("code",[t._v("vm")]),t._v("和"),a("code",[t._v("ES6")]),t._v("模板字符串造一个模板引擎。")],1)])]),t._v(" "),a("p",[a("strong",[t._v("参考资料")])]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5af95fdf6fb9a07ac23adcfa",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js 沙箱环境"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000014533283",target:"_blank",rel:"noopener noreferrer"}},[t._v("为 Node.js 应用建立一个更安全的沙箱环境"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000017210397",target:"_blank",rel:"noopener noreferrer"}},[t._v("node核心模块-vm"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://nodejs.cn/api/vm.html#vm_what_does_it_mean_to_contextify_an_object",target:"_blank",rel:"noopener noreferrer"}},[t._v("node中文网"),a("OutboundLink")],1)])])])},[],!1,null,null,null);s.default=e.exports}}]);