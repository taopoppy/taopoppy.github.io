(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{263:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint","aria-hidden":"true"}},[t._v("#")]),t._v(" Eslint")]),t._v(" "),a("h2",{attrs:{id:"eslint为何物"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint为何物","aria-hidden":"true"}},[t._v("#")]),t._v(" Eslint为何物")]),t._v(" "),a("p",[a("code",[t._v("Eslint")]),t._v("是团队开发规范中的利器，我们现在直接去下载它；")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("npm install eslint eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("loader "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),a("p",[t._v("下载好了之后我们有几种简单的方式去配置"),a("code",[t._v("eslint")]),t._v(",因为我们下载好了"),a("code",[t._v("eslint")]),t._v(",现在我们直接在项目中使用命令："),a("font",{attrs:{color:"#1E90FF"}},[t._v("npx eslint --init")]),t._v(",然后会问你一大堆问题，让你去回答，然后下载相对应的第三方包，然后在我们的项目目录下就会产生一个"),a("font",{attrs:{color:"#DD1144"}},[t._v(".eslintrc.js")]),t._v("的配置文件。这里面就有很多的配置规则。我们根据自身需求去修改一下即可。")],1),t._v(" "),a("p",[t._v("默认的是"),a("code",[t._v("erpm")]),t._v("的解析器。但是一般我们都使用"),a("font",{attrs:{color:"#DD1144"}},[t._v("babel-eslint")]),t._v("来作为解析器，所以我们就在"),a("code",[t._v(".eslintrc.js")]),t._v("中配置解析器的设置：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"parser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-eslint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("然后去下载"),a("code",[t._v("babel-eslint")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("npm install babel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eslint "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),a("p",[t._v("这样都配置好了之后，其实使用"),a("code",[t._v("eslint")]),t._v("来检查错误有两个方法：")]),t._v(" "),a("ul",[a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("npx eslint src")]),t._v("：这样检查出来的src目录下的错误就直接显示在命令行，然后一个个改")],1),t._v(" "),a("li",[a("font",{attrs:{color:"#3eaf7c"}},[t._v("vscode中下载eslint插件")]),t._v("：自动在文件中高亮的显示错误")],1)]),t._v(" "),a("p",[t._v("所以第二种更常用一些，当然如果不使用的一些规则我们可以在"),a("code",[t._v(".eslintrc.js")]),t._v("的"),a("code",[t._v("rules")]),t._v("中去掉即可。但是第二种方法仅仅局限于你使用的"),a("code",[t._v("vscode")]),t._v(",如果你使用的其他编辑器下载不了"),a("code",[t._v("eslint")]),t._v("的插件，我们就只能使用第一种方法了，但是第一种方法太笨了。我们就想到在"),a("code",[t._v("Webpack")]),t._v("当中去配置"),a("code",[t._v("eslint")]),t._v(",这样无论你使用什么编辑器，都能很直观的去看到自己规范上的错误。")]),t._v(" "),a("p",[t._v("所以实际上，"),a("font",{attrs:{color:"#1E90FF"}},[t._v("eslint本身和webpack并没有关系，只不过在webpack中配置一下也能帮助我们更好的，更方便的利于eslint的功能")]),t._v(" "),a("img",{attrs:{src:t.$withBase("/webpack_four_eslint_ways.png"),alt:"ellint"}})],1),t._v(" "),a("h2",{attrs:{id:"webpack-eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-eslint","aria-hidden":"true"}},[t._v("#")]),t._v(" Webpack&&Eslint")]),t._v(" "),a("p",[t._v("首先下载"),a("font",{attrs:{color:"#1E90FF"}},[t._v("eslint-loader")]),t._v(",然后修改"),a("code",[t._v("webpack.common.js")]),t._v("中的内容：")],1),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.common.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\trules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\ttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\texclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\t\tuse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eslint-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// options相关的配置放在.babelrc文件下")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("当然了我们现在写代码都是在"),a("code",[t._v("vue")]),t._v("或者"),a("code",[t._v("react")]),t._v("这种框架中书写代码，不仅要对"),a("code",[t._v("js")]),t._v("文件做校验，还要对"),a("code",[t._v("vue")]),t._v(",或者"),a("code",[t._v("jsx")]),t._v("文件做校验，但是不同的文件都已经有不同的"),a("code",[t._v("loader")]),t._v("了，我们要对这些统一处理，你可以这样做：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.common.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\trules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\ttest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.(vue|js|jsx)$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\tloader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eslint-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\texclude"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t\tenforce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pre'")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("那么"),a("code",[t._v("enforce")]),t._v("就是说在这些文件对应的"),a("code",[t._v("loader")]),t._v("解析之前，我们使用"),a("code",[t._v("eslint-loader")]),t._v("先对其进行检查，然后再用对应的"),a("code",[t._v("loader")]),t._v("去打包，因为规范检查一定要在最前面，不然就失去了检查的意义。然后我们在"),a("code",[t._v("webpack.dev.js")]),t._v("中添加一个配置：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.dev.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" devConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  devServer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    overlay"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("这样我们启动"),a("code",[t._v("npm run dev")]),t._v("之后，就会将"),a("code",[t._v("eslint")]),t._v("中的规范问题全部显示在浏览器中，以浮层的形式。然后根据说明一个个改，改完是否改正确也能随时在浏览器中的浮层中显示出来即可。")]),t._v(" "),a("p",[a("font",{attrs:{color:"#DD1144"}},[t._v("当然了因为代码规范校验是一定会减慢打包速度的，一般我们不想减慢打包速度来实现代码校验，我们会在团队的git提交之前去检查，具体的实现可以参照vue服务端渲染的笔记")])],1)])},[],!1,null,null,null);s.default=e.exports}}]);