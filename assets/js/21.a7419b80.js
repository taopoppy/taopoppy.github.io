(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{217:function(e,t,o){"use strict";o.r(t);var v=o(0),s=Object(v.a)({},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"开发环境的搭建"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#开发环境的搭建","aria-hidden":"true"}},[e._v("#")]),e._v(" 开发环境的搭建")]),e._v(" "),o("p",[e._v("关于开发环境的搭建，我们将按照下面这个图示来一个个讲解和介绍：")]),e._v(" "),o("img",{attrs:{src:e.$withBase("/devtools-environment.png"),alt:""}}),e._v(" "),o("h2",{attrs:{id:"开发环境概述"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#开发环境概述","aria-hidden":"true"}},[e._v("#")]),e._v(" 开发环境概述")]),e._v(" "),o("p",[e._v("开发的时候，我们要采用的三个环境：")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("本地环境")]),e._v("："),o("code",[e._v("Node.js")]),e._v("、"),o("code",[e._v("IDE")]),e._v("、"),o("code",[e._v("Vue-Cli")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("测试环境")]),e._v("：虚拟机自建环境、购买云服务（>1C+2G）、安装"),o("code",[e._v("Docker")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("数据库服务")]),e._v("："),o("code",[e._v("MongoDB")])],1)]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("① 本地环境")])])],1),e._v(" "),o("ul",[o("li",[o("code",[e._v("Nodejs")]),e._v("自己到官网上安装，我们下面说一下"),o("code",[e._v("nvm")])]),e._v(" "),o("li",[o("code",[e._v("IDE")]),e._v("："),o("code",[e._v("WebStorm")]),e._v("、"),o("code",[e._v("Vscode")]),e._v("、"),o("code",[e._v("Atom")])]),e._v(" "),o("li",[o("code",[e._v("Vue-cli")]),e._v(":\n"),o("ul",[o("li",[e._v("安装命令："),o("code",[e._v("npm install -g @vue/cli")])]),e._v(" "),o("li",[e._v("快速原型开发："),o("code",[e._v("npm install -g @vue/cli-service-global")])])])])]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("② 测试环境")])])],1),e._v(" "),o("ul",[o("li",[e._v("虚拟机自建环境（"),o("code",[e._v("Parallels")]),e._v("/"),o("code",[e._v("Vmware")]),e._v("/"),o("code",[e._v("Hyperv")]),e._v("）或者购买云服务")]),e._v(" "),o("li",[e._v("安装"),o("code",[e._v("Docker")]),e._v("，推荐使用安装脚本"),o("a",{attrs:{href:"https://github.com/docker/docker-install",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker-install"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("安装和执行脚本：然后就可以使用"),o("code",[e._v("Docker")]),e._v("命令了"),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("curl -fsSL https://get.docker.com -o get-docker.sh\nsh get-docker.sh\n")])])])]),e._v(" "),o("li",[e._v("然后下载"),o("code",[e._v("docker-compose")]),e._v("："),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('sudo curl -L "https://github.com/docker/compose/releases/download/1.28.4/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n')])])])]),e._v(" "),o("li",[e._v("添加脚本权限：然后就能再"),o("code",[e._v("linux")]),e._v("上面使用"),o("code",[e._v("docker-compose")]),e._v("命令了"),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo chmod +x /usr/local/bin/docker-compose\n")])])])])]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("③ 数据库服务")])])],1),e._v(" "),o("ul",[o("li",[o("p",[e._v("打开"),o("a",{attrs:{href:"https://hub.docker.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("dockerhub"),o("OutboundLink")],1),e._v("，搜索"),o("code",[e._v("mongo")])])]),e._v(" "),o("li",[o("p",[e._v("然后在"),o("code",[e._v("linux")]),e._v("上使用下面的命令去下载指定版本的"),o("code",[e._v("mongo")]),e._v(",那么保存在"),o("code",[e._v("docker")]),e._v("中的镜像就是"),o("code",[e._v("mongo:4")])]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("docker pull mongo:4\n")])])])]),e._v(" "),o("li",[o("p",[e._v("如果遇到网络的问题，在"),o("code",[e._v("/etc/docker/daemon.json")]),e._v("当中配置下面的网址：,使用"),o("code",[e._v("vi /etc/docker/daemon.json")]),e._v("命令：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('{\n  "registry-mirrors":["https://registry.docker-cn.com"]\n}\n')])])]),o("p",[e._v("使用"),o("code",[e._v(":wq")]),e._v("来保存我们的配置。")])]),e._v(" "),o("li",[o("p",[e._v("重启"),o("code",[e._v("docker")]),e._v("："),o("code",[e._v("service docker restart")])])]),e._v(" "),o("li",[o("p",[e._v("运行"),o("code",[e._v("docker")]),e._v("中的"),o("code",[e._v("mongo")]),e._v("服务："),o("code",[e._v("docker run -d --name some-mongo -p 10050:27017 mongo:4")])])]),e._v(" "),o("li",[o("p",[e._v("可以使用"),o("code",[e._v("docker images")]),e._v("去查看里面有哪些镜像")])]),e._v(" "),o("li",[o("p",[e._v("可以使用"),o("code",[e._v("docker ps")]),e._v("查看后台正在运行哪些服务")])]),e._v(" "),o("li",[o("p",[e._v("然后可以看到我们"),o("code",[e._v("docker")]),e._v("容器内270017端口跑的是"),o("code",[e._v("mongo")]),e._v("，但是我们要将宿主机的10050放行出去，这样外部访问的是宿主机的10050，实际上映射的是"),o("code",[e._v("docker")]),e._v("中的27017，简单的说，访问宿主机的10050，相当于访问的是宿主机内的"),o("code",[e._v("docker")]),e._v("中的27017"),o("code",[e._v("mongo")]),e._v("服务。")])]),e._v(" "),o("li",[o("p",[e._v("放行宿主机端口有两种方法")]),e._v(" "),o("ul",[o("li",[e._v("关闭防火墙：\n"),o("ul",[o("li",[o("code",[e._v("Ubuntu")]),e._v("命令："),o("code",[e._v("service ufw stop")])]),e._v(" "),o("li",[o("code",[e._v("Centos")]),e._v("命令："),o("code",[e._v("service firewalld stop")])])])]),e._v(" "),o("li",[e._v("添加放行规则\n"),o("ul",[o("li",[o("code",[e._v("Ubuntu")]),e._v("命令："),o("code",[e._v("ufw allow Port 10050")])]),e._v(" "),o("li",[o("code",[e._v("Centos")]),e._v("命令："),o("code",[e._v("firewall-cmd --zone=public --add-port=10050/tcp --permanent")]),e._v(" + "),o("code",[e._v("firewall-cmd --reload")])])])])])]),e._v(" "),o("li",[o("p",[e._v("最后使用"),o("code",[e._v("Robo 3T")]),e._v("这个"),o("code",[e._v("MongoDB")]),e._v("的图形化工具去连接远程"),o("code",[e._v("mongo")]),e._v("服务")])])]),e._v(" "),o("h2",{attrs:{id:"虚拟化软件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#虚拟化软件","aria-hidden":"true"}},[e._v("#")]),e._v(" 虚拟化软件")]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("① 添加Hyper-V")])])],1),e._v(" "),o("p",[e._v("在"),o("code",[e._v("windows")]),e._v("的控制面板 > 程序 > 启用或关闭Window功能中选择"),o("code",[e._v("Hyper-v")]),e._v("，点击确定即可，这样"),o("code",[e._v("Hyper-V")]),e._v("就添加到"),o("code",[e._v("windows")]),e._v("程序当中了。如果需要重启就重启。")]),e._v(" "),o("p",[e._v("注意有的电脑无法下载"),o("code",[e._v("Hyper-V")]),e._v("监控程序，需要在电脑的"),o("code",[e._v("BIOS")]),e._v("当中先开启虚拟化，这个不同的主板有不同的设置，百度即可。")]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("② 新建虚拟网络交换机")])])],1),e._v(" "),o("ul",[o("li",[o("p",[e._v("打开搜索，搜索"),o("code",[e._v("Hyper-V管理器")]),e._v("，然后点击右边的"),o("font",{attrs:{color:"#1E90FF"}},[e._v("虚拟交换机管理器")]),e._v("，接着选择"),o("font",{attrs:{color:"#1E90FF"}},[e._v("创建虚拟交换机")]),e._v(" "),o("img",{attrs:{src:e.$withBase("/bigfrontend-environment-1.png"),alt:""}})],1)]),e._v(" "),o("li",[o("p",[e._v("接着按照下面选择"),o("font",{attrs:{color:"#1E90FF"}},[e._v("外部网路")]),e._v("和"),o("font",{attrs:{color:"#1E90FF"}},[e._v("允许管理器操作系统共享此网络适配器")]),e._v("，最后点击确定")],1),e._v(" "),o("img",{attrs:{src:e.$withBase("/bigfrontend-environment-2.png"),alt:""}})])]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("③ 新建虚拟机")])])],1),e._v(" "),o("p",[e._v("在"),o("code",[e._v("Hyper-V")]),e._v("右侧选择新建 > 虚拟机，然后进入下面的几个步骤：")]),e._v(" "),o("ul",[o("li",[e._v("指定名称和位置：自己看情况修改")]),e._v(" "),o("li",[e._v("指定代数：默认")]),e._v(" "),o("li",[e._v("分配内存：启动内存修改为2048")]),e._v(" "),o("li",[e._v("配置网路：前面新配置的虚拟网络交换机的的网络（我这里先用默认的Default Switch）")]),e._v(" "),o("li",[e._v("连接虚拟硬盘：默认")]),e._v(" "),o("li",[e._v("安装选项：选择"),o("code",[e._v("从可启动的CD/DVD-ROM安装操作系统")]),e._v("中的"),o("code",[e._v("映像文件")]),e._v("，选择自己下载镜像文件")]),e._v(" "),o("li",[e._v("最后完成后，就在"),o("code",[e._v("HyperV")]),e._v("管理器界面的中间看到有我们创建的这个虚拟机，右键进入设置，设置虚拟机处理器的数量为4，内存要设置大一点，我这里设置的是2048M，然后连接")])]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("④ 连接虚拟机")])])],1),e._v(" "),o("ul",[o("li",[e._v("首先先启动虚拟机（"),o("code",[e._v("Hyper-V")]),e._v("管理器右侧），然后再连接，选择"),o("code",[e._v("install Centos 7")]),e._v("开始安装")]),e._v(" "),o("li",[e._v("进入"),o("code",[e._v("语言选择界面")]),e._v("，选择中文->简体中文")]),e._v(" "),o("li",[e._v("进入"),o("code",[e._v("安装信息摘要")]),e._v(":\n"),o("ul",[o("li",[e._v("本地化：\n"),o("ul",[o("li",[o("code",[e._v("时间")]),e._v("选择中国")]),e._v(" "),o("li",[o("code",[e._v("键盘")]),e._v("默认")]),e._v(" "),o("li",[o("code",[e._v("语言支持")]),e._v("选择中国")])])]),e._v(" "),o("li",[e._v("软件\n"),o("ul",[o("li",[o("code",[e._v("安装源")]),e._v("选择默认")]),e._v(" "),o("li",[o("code",[e._v("软件选择")]),e._v("进去选择最小虚拟化主机，然后第二栏所有的都勾选")])])]),e._v(" "),o("li",[e._v("系统\n"),o("ul",[o("li",[o("code",[e._v("安装位置")]),e._v("点击去选择完成即可")]),e._v(" "),o("li",[o("code",[e._v("网络和主机名")]),e._v("进入把右上角的关闭改为打开")])])])])]),e._v(" "),o("li",[e._v("点击开始安装，在下载的界面有"),o("code",[e._v("ROOT密码设置")]),e._v("和"),o("code",[e._v("创建用户")]),e._v("，我只设置root密码，我这里设置的是"),o("code",[e._v("taopoppy")])]),e._v(" "),o("li",[e._v("安装完成后，有重启按钮，点击开始重启")]),e._v(" "),o("li",[e._v("登录的时候，用户名是"),o("code",[e._v("root")]),e._v("，密码就是你自己设置的那个，我的是"),o("code",[e._v("taopoppy")])])]),e._v(" "),o("h2",{attrs:{id:"linux介绍和常见命令"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#linux介绍和常见命令","aria-hidden":"true"}},[e._v("#")]),e._v(" Linux介绍和常见命令")]),e._v(" "),o("ul",[o("li",[e._v("查看当前路径的目录："),o("code",[e._v("ls")])]),e._v(" "),o("li",[e._v("格式化查看目录，权限，磁盘占用率："),o("code",[e._v("ls -la")])]),e._v(" "),o("li",[e._v("查看当前所有进程的命令："),o("code",[e._v("top")]),e._v("，进程的数量，占据"),o("code",[e._v("cpu")]),e._v("，还有占据内存的数据都有显示，点击"),o("code",[e._v("m")]),e._v("可以查看当前所有内存和已用内存的占比")]),e._v(" "),o("li",[e._v("目录介绍：\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("home")]),e._v("：自己的目录，可以存自己的东西，比如下载的东西")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("etc")]),e._v("：软件的配置文件")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("sys")]),e._v("：系统目录")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("var")]),e._v("：存放的是日志文件")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("usr")]),e._v("：系统可执行的文件\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("sbin")]),e._v("：存放着超级管理员的东西")],1)])],1)])])]),e._v(" "),o("p",[e._v("下面讲介绍一下"),o("code",[e._v("linux")]),e._v("常见的命令")]),e._v(" "),o("ul",[o("li",[e._v("文档型：（"),o("code",[e._v("touch")]),e._v("、"),o("code",[e._v("cat")]),e._v("、"),o("code",[e._v("echo")]),e._v("、"),o("code",[e._v("rm")]),e._v("、"),o("code",[e._v("vi")]),e._v("、"),o("code",[e._v("cd")]),e._v("）\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("mkdir")]),e._v("：创建目录")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("touch")]),e._v("：创建文件")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("vi")]),e._v("：编辑文件")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("i")]),e._v("：进入文件开始编辑状态")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("esc按键")]),e._v("：退出编辑状态")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v(":wq")]),e._v("：保存编辑")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v(":q!")]),e._v("：不进行保存")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("cat")]),e._v("：查看文件的内容")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("echo >>")]),e._v("：向文件当中添加内容，"),o("code",[e._v("echo '123123' >> test.txt")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("echo >")]),e._v("：覆盖文件中的内容，"),o("code",[e._v("echo 'hello word' > test.txt")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("rm")]),e._v("：删除文件，"),o("code",[e._v("rm test.txt")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("rm -r")]),e._v(": 删除目录，"),o("code",[e._v("rm -r testdir/")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("rm -rf")]),e._v("：强制删除")],1)])]),e._v(" "),o("li",[e._v("硬件型：（查看：硬盘/进程/服务/网络）\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("ps -ef | grep ")]),e._v("，查看进程，"),o("code",[e._v("ps -ef | grep docker")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("kill -9")]),e._v(": 杀死进程，"),o("code",[e._v("kill -9 pid")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("service xxx status")]),e._v("：查看服务状态，"),o("code",[e._v("xxx")]),e._v("为服务名称")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("service xxx stop")]),e._v("：关闭服务")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("service xxx restart")]),e._v("：重启服务")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("systemctl status firewalld.service")]),e._v("：查看防火墙的状态")],1)])]),e._v(" "),o("li",[e._v("功能性：压缩/解压，下载，远程\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("wget")]),e._v("：下载资源，"),o("code",[e._v("wget http://xxxxx.tar.gz")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("tar zxvf")]),e._v("：解压资源，"),o("code",[e._v("tar zxvf xxxx.tar.gz")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("z")]),e._v("：代表解压的文件是以"),o("code",[e._v("gz")]),e._v("结尾的")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("x")]),e._v("：代表解压")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("v")]),e._v("：代表显示解压的过程")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("f")]),e._v("：表示使用规格的名字，解压的文件是什么名字，解压出来就是什么名字，比如"),o("code",[e._v("xxx.tar.gz")]),e._v("解压出来就是"),o("code",[e._v("xxx")])],1)])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("tar zcvf")]),e._v("：压缩资源，"),o("code",[e._v("tar zcvf xxx.tar.gz xxx")]),e._v("，将"),o("code",[e._v("xxx")]),e._v("压缩到"),o("code",[e._v("xxx.tar.gz")]),e._v("文件中\n"),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("c")]),e._v("：代表压缩的过程")],1)])],1)])])]),e._v(" "),o("h2",{attrs:{id:"ssh密钥连接"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ssh密钥连接","aria-hidden":"true"}},[e._v("#")]),e._v(" SSH密钥连接")]),e._v(" "),o("p",[e._v("常用的连接方式就是"),o("font",{attrs:{color:"#DD1144"}},[e._v("ssh 用户名@ip地址")]),e._v("：比如"),o("code",[e._v("ssh root@47.105.212.161")])],1),e._v(" "),o("p",[e._v("一般使用的默认端口22，如果使用的其他端口，可以使用"),o("code",[e._v("-p 23")]),e._v("这种，例如"),o("code",[e._v("ssh -p 23 root@47.105.212.161")])]),e._v(" "),o("p",[e._v("一般进入之后，命令行比如显示的是这样"),o("code",[e._v("[root@admin ~]#")]),e._v("，"),o("code",[e._v("root")]),e._v("代表的用户名，"),o("code",[e._v("admin")]),e._v("代表主机的名字。主机的名字可以在"),o("code",[e._v("/etc/hostname")]),e._v("中配置")]),e._v(" "),o("ul",[o("li",[e._v("首先通过"),o("code",[e._v("service sshd status")]),e._v("或者"),o("code",[e._v("systemctl status sshd.service")]),e._v("检查服务器的"),o("code",[e._v("ssh")]),e._v("的服务状态("),o("code",[e._v("ubuntu")]),e._v("系统的是"),o("code",[e._v("ssh")]),e._v("，"),o("code",[e._v("Centos")]),e._v("系统的是"),o("code",[e._v("sshd")]),e._v(")")]),e._v(" "),o("li",[e._v("然后使用"),o("code",[e._v("netstat -anlp | grep sshd")]),e._v("或者"),o("code",[e._v("cat /etc/ssh/sshd_config")]),e._v("查看"),o("code",[e._v("ssh")]),e._v("服务监听的端口，一般显示的就是"),o("code",[e._v("0.0.0.0.0:22")])]),e._v(" "),o("li",[e._v("怎么去修改"),o("code",[e._v("ssh")]),e._v("监听的端口呢，在"),o("code",[e._v("ubuntu")]),e._v("上直接"),o("code",[e._v("vi /etc/ssh/sshd_config")]),e._v("，然后找到"),o("code",[e._v("#Port 22")]),e._v("那一行，修改为"),o("code",[e._v("Port 10022")]),e._v("，保存即可将"),o("code",[e._v("ssh")]),e._v("监听端口修改为10022，然后执行"),o("code",[e._v("service sshd restart")]),e._v("重启即可。")]),e._v(" "),o("li",[e._v("但是在"),o("code",[e._v("Centos")]),e._v("上面除了上面的操作，由于集成了"),o("code",[e._v("selinux")]),e._v("，你还必须要执行"),o("code",[e._v("semanage port -a -t ssh_port_t -p tcp 10022")]),e._v("，最后进行"),o("code",[e._v("service ssh restart")])]),e._v(" "),o("li",[e._v("但是系统会提示你"),o("code",[e._v("semanage")]),e._v("不存在，所以你还要去下载有这个命令的包，我们完整的"),o("code",[e._v("Centos")]),e._v("下修改"),o("code",[e._v("ssh")]),e._v("监听端口号操作流程如下：\n"),o("ul",[o("li",[e._v("执行"),o("code",[e._v("vi /etc/ssh/sshd_config")]),e._v("，修改"),o("code",[e._v("#Port 22")]),e._v("为"),o("code",[e._v("Port 10022")]),e._v("，记得"),o("code",[e._v(":wq")]),e._v("保存")]),e._v(" "),o("li",[e._v("执行"),o("code",[e._v("semanage port -a -t ssh_port_t -p tcp 10022")]),e._v("，发现"),o("code",[e._v("semanage")]),e._v("命令不存在")]),e._v(" "),o("li",[e._v("执行"),o("code",[e._v("yum whatprovides semanage")]),e._v("进行反查，发现在"),o("code",[e._v("policycoreutils-python")]),e._v("当中存在")]),e._v(" "),o("li",[e._v("执行"),o("code",[e._v("yum install -y policycoreutils-python")])]),e._v(" "),o("li",[e._v("重新执行"),o("code",[e._v("semanage port -a -t ssh_port_t -p tcp 10022")])]),e._v(" "),o("li",[e._v("确认是否添加："),o("code",[e._v("semanage port -l | grep ssh")]),e._v("，然后就会显示当前有"),o("code",[e._v("10022")]),e._v("和"),o("code",[e._v("22")]),e._v("两个端口")]),e._v(" "),o("li",[e._v("(可选)删除22端口，"),o("code",[e._v("semanage port -d -t ssh_port_t -p tcp 22")])]),e._v(" "),o("li",[e._v("最后执行"),o("code",[e._v("service sshd restart")])])])])]),e._v(" "),o("p",[e._v("怎么在"),o("code",[e._v("windows")]),e._v("的"),o("code",[e._v("powerShell")]),e._v("当中去连接虚拟机中的"),o("code",[e._v("Centos")]),e._v("系统？")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#DD1144"}},[e._v("在虚拟机上的centos系统中执行ifconfig -a 命令查看ip")]),e._v(" "),o("img",{attrs:{src:e.$withBase("/bigfrontend-environment-4.png"),alt:""}})],1),e._v(" "),o("li",[o("font",{attrs:{color:"#DD1144"}},[e._v("关闭虚拟机的centos系统中的防火墙：service firewalld stop")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#DD1144"}},[e._v("在本地的命令行中连接：ssh -p 10022  root@172.17.72.171")]),e._v(" "),o("img",{attrs:{src:e.$withBase("/bigfrontend-environment-5.png"),alt:""}})],1)]),e._v(" "),o("h2",{attrs:{id:"docker入门"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker入门","aria-hidden":"true"}},[e._v("#")]),e._v(" docker入门")]),e._v(" "),o("img",{attrs:{src:e.$withBase("/bigfrontend-environment-6.png"),alt:""}}),e._v(" "),o("p",[e._v("我们首先来看左边")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("基础设施")]),e._v("代表了物理机，比如硬件资源，"),o("code",[e._v("cpu")]),e._v("资源等等")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("操作系统")]),e._v("有"),o("code",[e._v("windows")]),e._v("、"),o("code",[e._v("Mac")]),e._v("系统和"),o("code",[e._v("Linux")]),e._v("系统")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("Docker")]),e._v("：容器化技术，该进程当中可以跑很多应用，各应用之间相互独立，但是公用一个"),o("code",[e._v("docker")]),e._v("进程")],1)]),e._v(" "),o("p",[e._v("二右边，虚拟化平台"),o("code",[e._v("Hyper-V")]),e._v("或者"),o("code",[e._v("VM")]),e._v("都是建立在物理机上的，会占用物理机的一部分资源，然后虚拟机里包含操作系统，操作系统中包含应用。")]),e._v(" "),o("p",[e._v("下面我们来说一下"),o("code",[e._v("Docker")]),e._v("的主要特性：")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("文件，资源，网络隔离")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#DD1144"}},[e._v("变更管理（有点类型与git）")]),e._v("、"),o("font",{attrs:{color:"#1E90FF"}},[e._v("日志记录")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#DD1144"}},[e._v("写时复制（所以启动很快，并非切分资源）")])],1)]),e._v(" "),o("h2",{attrs:{id:"docker安装"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker安装","aria-hidden":"true"}},[e._v("#")]),e._v(" docker安装")]),e._v(" "),o("ul",[o("li",[e._v("苹果电脑就去官网下载"),o("code",[e._v("Docker.dmg")]),e._v("，进行双击，输入管理员密码即可，使用"),o("code",[e._v("docker version")]),e._v("来查看版本。苹果系统下载的会自动集成"),o("code",[e._v("docker-compose")])]),e._v(" "),o("li",[o("code",[e._v("windows")]),e._v("必须是"),o("code",[e._v("windows 10")]),e._v("才能下载使用")])]),e._v(" "),o("p",[e._v("下面我们着重来演示"),o("code",[e._v("Linux")]),e._v("下的"),o("code",[e._v("Docker")]),e._v("安装：")]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("① 删除旧的版本")])])],1),e._v(" "),o("p",[e._v("(可选)如果你在之前有安装过"),o("code",[e._v("docker")]),e._v("，首先要将其删除，删除的命令如下：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# sudo yum remove docker \\\n> docker-client \\\n> docker-client-latest \\\n> docker-common \\\n> docker-latest \\\n> docker-latest-logrotate \\\n> docker-logrotate \\\n> docker-engine\n")])])]),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("② 安装必要的依赖")])])],1),e._v(" "),o("p",[e._v("然后安装一些必须的依赖:")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# sudo yum install -y yum-utils \\\n> device-mapper-persistent-data \\\n> lvm2\n")])])]),o("p",[e._v("添加"),o("code",[e._v("stable")]),e._v("的"),o("code",[e._v("Docker-ce")]),e._v("的源：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# sudo yum-config-manager \\\n> --add-repo \\\n> https://download.docker.com/linux/centos/docker-ce.repo\n")])])]),o("p",[e._v("因为这个地址是中央仓库，经常下载东西下载不下来，所以我们准备使用阿里的"),o("code",[e._v("docker-ce")]),e._v("源，所以，我们到官网"),o("a",{attrs:{href:"https://developer.aliyun.com/mirror/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里云官方镜像站"),o("OutboundLink")],1),e._v(",在镜像当中去选择容器，可以看到"),o("code",[e._v("docker-ce")]),e._v("，点击进入，就有"),o("code",[e._v("centos")]),e._v("的下载地址为"),o("code",[e._v("https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo")]),e._v("，我们按照官网给的提示去执行更行下载源：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# Step 2: 添加软件源信息\nsudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n# Step 3: 更换源文件\nsudo sed -i 's+download.docker.com+mirrors.aliyun.com/docker-ce+' /etc/yum.repos.d/docker-ce.repo\n")])])]),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("③ 安装docker-ce")])])],1),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# sudo yum install docker-ce docker-ce-cli containerd.io\n")])])]),o("p",[e._v("安装好之后，我们再来修改个东西，我们知道"),o("code",[e._v("docker")]),e._v("是要去下载镜像的，我们需要修改一下镜像地址为国内的"),o("code",[e._v("docker")]),e._v("镜像，也可以使用阿里云的镜像加速地址，这里给出怎么获取阿里云的镜像加速地址的"),o("a",{attrs:{href:"https://blog.csdn.net/weixin_43569697/article/details/89279225",target:"_blank",rel:"noopener noreferrer"}},[e._v("文章"),o("OutboundLink")],1),e._v("，我最终获取到的是"),o("code",[e._v("https://syayd8aw.mirror.aliyuncs.com")]),e._v("，去修改"),o("code",[e._v("/etc/docker/daemon.json")]),e._v("文件如下：")]),e._v(" "),o("div",{staticClass:"language-json extra-class"},[o("pre",{pre:!0,attrs:{class:"language-json"}},[o("code",[o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token property"}},[e._v('"registry-mirrors"')]),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://syayd8aw.mirror.aliyuncs.com"')]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://registry.docker-cn.com"')]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),o("p",[e._v("整个过程的命令如下（来自阿里云镜像加速器提供）：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('sudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://syayd8aw.mirror.aliyuncs.com","https://registry.docker-cn.com"]\n}\nEOF\nsudo systemctl daemon-reload (可选，我是第一次没有启动就改了镜像地址，所以不需要)\nsudo systemctl restart docker \n')])])]),o("p",[e._v("接着就启动"),o("code",[e._v("docker")]),e._v("：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("systemctl start docker\nsystemctl status docker\n")])])]),o("p",[e._v("我们可以执行这个命令："),o("code",[e._v("docker run hello-world")]),e._v("，"),o("code",[e._v("docker")]),e._v("会告诉你，本地没有这个镜像，所以就通过"),o("code",[e._v("docker-deamon")]),e._v("连接"),o("code",[e._v("Docker hub")]),e._v("去拉去这个镜像，然后运行，可以通过"),o("code",[e._v("docker ps -a")]),e._v("查看所有的容器，包括未运行的，就会看到刚刚运行的"),o("code",[e._v("hello-word")])]),e._v(" "),o("p",[e._v("删除容器们可以使用"),o("code",[e._v("docker rm [NAMES]")]),e._v("或者"),o("code",[e._v("docker rm [CONTAINER ID]")]),e._v("，其中"),o("code",[e._v("NAMES")]),e._v("和"),o("code",[e._v("CONTAINER ID")]),e._v("可以在"),o("code",[e._v("docker ps -a")]),e._v("的结果中看到容器对应的属性。前提是不能删除正在运行的容器，必须先"),o("code",[e._v("docker stop")]),e._v("。")]),e._v(" "),o("h2",{attrs:{id:"docker-compose"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose","aria-hidden":"true"}},[e._v("#")]),e._v(" docker-compose")]),e._v(" "),o("p",[o("font",{attrs:{color:"#DD1144"}},[e._v("docker-compose是可以帮助我们通过一条命令去管理多个镜像的，也可以使用一条命令去查看多个镜像的状态。它本质上是一个docker集合命令的工具")])],1),e._v(" "),o("p",[o("code",[e._v("docker-compose")]),e._v("是通过"),o("code",[e._v("docker-compose up")]),e._v("去启动多个镜像，可以在"),o("code",[e._v("docker-compose.yml")]),e._v("当中去配置多个镜像的启动参数，官方给出的示例如下：")]),e._v(" "),o("div",{staticClass:"language-yml extra-class"},[o("pre",{pre:!0,attrs:{class:"language-yml"}},[o("code",[o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("version")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"3.9"')]),e._v("  "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# optional since v1.27.0")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("services")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("web")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("build")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" .\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v('"5000:5000"')]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" ."),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/code\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" logvolume01"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("/var/log\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("links")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" redis\n  "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("redis")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("image")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" redis\n"),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("volumes")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("logvolume01")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("① 安装docker-compose")])])],1),e._v(" "),o("p",[e._v("官网给出了下载命令，根据自己的需求修改版本号即可")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('sudo curl -L "https://github.com/docker/compose/releases/download/1.28.5/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n')])])]),o("p",[e._v("当然了，既然是官网，估计就下载不下来，我们给"),o("a",{attrs:{href:"https://get.daocloud.io/#install-compose",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker急速下载"),o("OutboundLink")],1),e._v("上看看，我们这里使用的是下面的命令：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo curl -L https://get.daocloud.io/docker/compose/releases/download/1.28.5/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose\n")])])]),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("② 给予权限")])])],1),e._v(" "),o("p",[e._v("给"),o("code",[e._v("docker-compose")]),e._v("的下载文件权限：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("sudo chmod +x /usr/local/bin/docker-compose\n")])])]),o("p",[e._v("然后使用"),o("code",[e._v("docker-compose --version")]),e._v("去检查一下版本即可")]),e._v(" "),o("p",[o("font",{attrs:{color:"#1E90FF"}},[o("strong",[e._v("③ 测试用例")])])],1),e._v(" "),o("p",[e._v("我们在"),o("code",[e._v("cd /home/")]),e._v("之后，"),o("code",[e._v("vi docker-compose.yml")]),e._v(",内容如下：")]),e._v(" "),o("div",{staticClass:"language-yml extra-class"},[o("pre",{pre:!0,attrs:{class:"language-yml"}},[o("code",[e._v("version '3'\n"),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("services")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("mysql")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    image"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("mysql      "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 使用mysql镜像")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("     "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 配置向mysql镜像当中传入的环境变量")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" MYSQL_ROOT_PASSWORD=123456\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("           "),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 将mysql镜像的3306的端口映射到宿主机上28002端口上")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 28002"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),o("span",{pre:!0,attrs:{class:"token number"}},[e._v("3306")]),e._v("\n\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("mysql2")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    image"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("mysql\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("environment")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" MYSQL_ROOT_PASSWORD=123456\n    "),o("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ports")]),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" \n    "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" 28003"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),o("span",{pre:!0,attrs:{class:"token number"}},[e._v("3306")]),e._v("\n")])])]),o("ul",[o("li",[e._v("这样我们使用"),o("font",{attrs:{color:"#DD1144"}},[e._v("docker-compose up -d")]),e._v("就可以看到同时启动了两个"),o("code",[e._v("mysql")])],1),e._v(" "),o("li",[e._v("使用"),o("font",{attrs:{color:"#DD1144"}},[e._v("docker-compose stop")]),e._v("可以同时关闭"),o("code",[e._v("docker-compose")]),e._v("启动的多个镜像")],1),e._v(" "),o("li",[e._v("使用"),o("font",{attrs:{color:"#DD1144"}},[e._v("docker-compose rm")]),e._v("可以同时删除"),o("code",[e._v("docker-compose")]),e._v("设置的多个镜像")],1)]),e._v(" "),o("h2",{attrs:{id:"docker-hub"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#docker-hub","aria-hidden":"true"}},[e._v("#")]),e._v(" Docker hub")]),e._v(" "),o("p",[o("code",[e._v("Docker hub")]),e._v("为官网的"),o("code",[e._v("docker")]),e._v("仓库，地址为"),o("a",{attrs:{href:"https://hub.docker.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://hub.docker.com"),o("OutboundLink")],1),e._v("，就类似于"),o("code",[e._v("npm")]),e._v("一样，可以从上面拉取别人写好的库，也可以上传自己的，")]),e._v(" "),o("p",[e._v("前提是首先得有一个"),o("code",[e._v("Docker hub")]),e._v("的账号，然后在虚拟机的命令行通过"),o("code",[e._v("docker login")]),e._v("登录到"),o("code",[e._v("Docker hub")]),e._v("，然后通过下面的命令进行推送：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("docker commit [CONTAINER ID] taopoppy/mysql:1.0\n")])])]),o("p",[e._v("其中"),o("code",[e._v("CONTAINER ID")]),e._v("是镜像保存在"),o("code",[e._v("docker")]),e._v("中的"),o("code",[e._v("id")]),e._v("，可以通过"),o("code",[e._v("docker ps")]),e._v("查看，然后"),o("code",[e._v("taopoppy/mysql:1.0")]),e._v("实际上我们想推送到"),o("code",[e._v("Docker hub")]),e._v("我们自己账号的一个镜像仓库的名称")]),e._v(" "),o("p",[e._v("提交到本地之后，我们可以通过"),o("code",[e._v("docker images")]),e._v("查看一下")]),e._v(" "),o("p",[e._v("最后通过下面的命令进行提交：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("docker push taopoppy/mysql:1.0\n")])])]),o("p",[e._v("那么别人也可以在其他机器上使用"),o("code",[e._v("docker")]),e._v("通过线上地址来拉取你提交的镜像")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("docker pull taopoppy/mysql:1.0\n")])])]),o("h2",{attrs:{id:"nvm"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#nvm","aria-hidden":"true"}},[e._v("#")]),e._v(" nvm")]),e._v(" "),o("p",[e._v("我们可以使用"),o("code",[e._v("nvm")]),e._v("去在同一台机器上去管理和切换多个版本的"),o("code",[e._v("nodejs")]),e._v("，"),o("a",{attrs:{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"}},[e._v("github"),o("OutboundLink")],1),e._v("提供了下载方法：")]),e._v(" "),o("p",[e._v("先下载")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\n")])])]),o("p",[e._v("然后添加环境变量：")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"\n[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh" # This loads nvm\n')])])]),o("p",[e._v("但是呢，"),o("code",[e._v("https://raw.githubusercontent.com")]),e._v("是翻墙才能访问的，所以我们可以按照下面这个步骤来安装：")]),e._v(" "),o("ul",[o("li",[e._v("使用"),o("code",[e._v("gitee")]),e._v("镜像下载："),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("git clone https://gitee.com/mirrors/nvm.git ~/.nvm && cd ~/.nvm && git checkout `git describe --abbrev=0 --tags`\n")])])])]),e._v(" "),o("li",[e._v("设置环境变量"),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("vi ~/.bash_profile\n")])])])]),e._v(" "),o("li",[e._v("然后去"),o("a",{attrs:{href:"https://github.com/nvm-sh/nvm#install--update-script",target:"_blank",rel:"noopener noreferrer"}},[e._v("github"),o("OutboundLink")],1),e._v("上找到设置环境变量的的内容，如下所示，粘贴到"),o("code",[e._v("~/.bash_profile")]),e._v("当中，保存退出。"),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")" [ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh" # This loads nvm\n')])])])]),e._v(" "),o("li",[e._v("设置环境变量生效："),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("source ~/.bash_profile\n")])])])]),e._v(" "),o("li",[e._v("查看版本"),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("nvm --version\n")])])])])]),e._v(" "),o("p",[e._v("下面我们来学习一下使用"),o("code",[e._v("nvm")]),e._v("的一些命令")]),e._v(" "),o("ul",[o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("nvm list")]),e._v("：查看当前本地中所有的"),o("code",[e._v("node")]),e._v("版本")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("nvm ls-remote")]),e._v("：查看远程的所有"),o("code",[e._v("node")]),e._v("版本")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("nvm install v14.16.0")]),e._v("：使用"),o("code",[e._v("nvm")]),e._v("下载"),o("code",[e._v("nodejs")])],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("nvm use v13.14.0")]),e._v("：切换到新的版本上去")],1),e._v(" "),o("li",[o("font",{attrs:{color:"#1E90FF"}},[e._v("nvm alias default v14.16.0")]),e._v("：设置默认的版本")],1)])])},[],!1,null,null,null);t.default=s.exports}}]);