(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{209:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"对齐和相对定位"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对齐和相对定位","aria-hidden":"true"}},[t._v("#")]),t._v(" 对齐和相对定位")]),t._v(" "),n("h2",{attrs:{id:"定位-align"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定位-align","aria-hidden":"true"}},[t._v("#")]),t._v(" 定位_Align")]),t._v(" "),n("p",[n("code",[t._v("Align")]),t._v(" 组件可以调整子组件的位置，并且可以根据子组件的宽高来确定自身的的宽高，定义如下：")]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Key key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alignment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Alignment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("widthFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("heightFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Widget child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("ul",[n("li",[n("p",[n("font",{attrs:{color:"#9400D3"}},[t._v("alignment")]),t._v(" : 需要一个"),n("code",[t._v("AlignmentGeometry")]),t._v("类型的值，表示子组件在父组件中的起始位置。"),n("code",[t._v("AlignmentGeometry")]),t._v(" 是一个抽象类，它有两个常用的子类："),n("code",[t._v("Alignment")]),t._v("和 "),n("code",[t._v("FractionalOffset")]),t._v("，我们将在下面的示例中详细介绍。")],1)]),t._v(" "),n("li",[n("p",[n("font",{attrs:{color:"#9400D3"}},[t._v("widthFactor")]),t._v("和"),n("font",{attrs:{color:"#9400D3"}},[t._v("heightFactor")]),t._v(":是用于确定"),n("code",[t._v("Align")]),t._v(" 组件本身宽高的属性；它们是两个缩放因子，会分别乘以子元素的宽、高，最终的结果就是"),n("code",[t._v("Align")]),t._v(" 组件的宽高。如果值为"),n("code",[t._v("null")]),t._v("，则组件的宽高将会占用尽可能多的空间。")],1)])]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_FlutterLayoutPageState")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("State")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("FlutterLayoutPage"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token metadata symbol"}},[t._v("@override")]),t._v("\n  Widget "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BuildContext context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("MaterialApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Flutter布局开发'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      theme"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ThemeData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        primarySwatch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Colors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deepPurple"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Scaffold")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        appBar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("AppBar")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Text")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Flutter布局开发'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Container")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          decoration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("BoxDecoration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("color"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Colors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("yellowAccent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            alignment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Alignment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("topRight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 右上角")]),t._v("\n            heightFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 高为子组件的两倍")]),t._v("\n            widthFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 宽为子组件的三倍")]),t._v("\n            child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("FlutterLogo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("size"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("img",{attrs:{src:t.$withBase("/flutter_align.png"),alt:"Align布局"}}),t._v(" "),n("p",[t._v("可以看到"),n("code",[t._v("FlutterLogo")]),t._v("是一个60的正方形，"),n("code",[t._v("Align")]),t._v("的"),n("code",[t._v("heightFactor")]),t._v("为2，"),n("code",[t._v("widthFactor")]),t._v("为3,所以最终"),n("code",[t._v("Align")]),t._v("的宽高分别是：60"),n("em",[t._v("3和60")]),t._v("2。")]),t._v(" "),n("p",[t._v("另外，我们通过"),n("code",[t._v("Alignment.topRight")]),t._v("将"),n("code",[t._v("FlutterLogo")]),t._v("定位在"),n("code",[t._v("Container")]),t._v("的右上角。那"),n("code",[t._v("Alignment.topRight")]),t._v("是什么呢？通过源码我们可以看到其定义如下：")]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//右上角")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Alignment topRight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Alignment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("可以看到它只是"),n("code",[t._v("Alignment")]),t._v("的一个实例，下面我们介绍一下"),n("code",[t._v("Alignment")]),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"定位-alignment"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定位-alignment","aria-hidden":"true"}},[t._v("#")]),t._v(" 定位_Alignment")]),t._v(" "),n("p",[n("code",[t._v("Alignment")]),t._v("继承自"),n("code",[t._v("AlignmentGeometry")]),t._v("，表示矩形内的一个点，他有两个属性"),n("code",[t._v("x")]),t._v("、"),n("code",[t._v("y")]),t._v("，分别表示在水平和垂直方向的偏移，"),n("code",[t._v("Alignment")]),t._v("定义如下：")]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Alignment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("y"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("code",[t._v("Alignment")]),t._v("会以矩形的中心点作为坐标原点，即"),n("code",[t._v("Alignment(0.0, 0.0)")]),t._v(" 。"),n("code",[t._v("x")]),t._v("、"),n("code",[t._v("y")]),t._v("的值从-1到1分别代表矩形左边到右边的距离和顶部到底边的距离，因此2个水平（或垂直）单位则等于矩形的宽（或高），如"),n("code",[t._v("Alignment(-1.0, -1.0)")]),t._v(" 代表矩形的左侧顶点，而"),n("code",[t._v("Alignment(1.0, 1.0)")]),t._v("代表右侧底部终点，而"),n("code",[t._v("Alignment(1.0, -1.0)")]),t._v(" 则正是右侧顶点，即"),n("code",[t._v("Alignment.topRight")]),t._v("。为了使用方便，矩形的原点、四个顶点，以及四条边的终点在"),n("code",[t._v("Alignment")]),t._v("类中都已经定义为了静态常量。")]),t._v(" "),n("h2",{attrs:{id:"定位-fractionaloffset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定位-fractionaloffset","aria-hidden":"true"}},[t._v("#")]),t._v(" 定位_FractionalOffset")]),t._v(" "),n("p",[n("code",[t._v("FractionalOffset")]),t._v("继承自"),n("code",[t._v("Alignment")]),t._v("，它和"),n("code",[t._v("Alignment")]),t._v("唯一的区别就是坐标原点不同！"),n("code",[t._v("FractionalOffset")]),t._v(" 的坐标原点为矩形的左侧顶点，这和布局系统的一致，所以理解起来会比较容易。")]),t._v(" "),n("h2",{attrs:{id:"定位-center"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定位-center","aria-hidden":"true"}},[t._v("#")]),t._v(" 定位_Center")]),t._v(" "),n("p",[t._v("我们在前面章节的例子中已经使用过"),n("code",[t._v("Center")]),t._v("组件来居中子元素了，现在我们正式来介绍一下它。通过查找"),n("code",[t._v("SDK")]),t._v("源码，我们看到"),n("code",[t._v("Center")]),t._v("组件定义如下:")]),t._v(" "),n("div",{staticClass:"language-dart extra-class"},[n("pre",{pre:!0,attrs:{class:"language-dart"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Center")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Align")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Center")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Key key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" double widthFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" double heightFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Widget child "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" widthFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" widthFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" heightFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" heightFactor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("font",{attrs:{color:"#DD1144"}},[t._v("可以看到Center继承自Align，它比Align只少了一个alignment 参数；由于Align的构造函数中alignment 值为Alignment.center，所以，我们可以认为Center组件其实是对齐方式确定（Alignment.center）了的Align。")])],1)])},[],!1,null,null,null);a.default=e.exports}}]);